{"version":3,"sources":["webpack:///./src/components/EpisodeMeta.tsx","webpack:///./src/components/SubscribeButton.tsx","webpack:///./src/pages/podcast/index.tsx"],"names":["EpisodeMeta","props","date","frontmatter","season","episodeNumber","publicationDate","duration","categories","excerpt","Date","getMonth","getDate","getFullYear","seconds","setSeconds","toISOString","substr","formatDurationNicely","join","sx","marginTop","fontSize","SubscribeButton","isSmall","feedUrl","window","dataKey","title","subtitle","description","cover","feeds","type","format","url","script","document","createElement","async","src","setAttribute","span","useRef","useEffect","current","appendChild","ref","href","PodcastPage","queryData","useStaticQuery","variant","gap","padding","gridTemplateColumns","px","as","marginBottom","textAlign","height","width","frameBorder","sandbox","allow","styles","allMdx","nodes","map","episode","key","id","to","slug","GatsbyLink"],"mappings":"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","file":"component---src-pages-podcast-index-tsx-438538ba9be9b1fa9169.js","sourcesContent":["/** @jsx jsx */\n\nimport { useEffect, useRef } from \"react\"\nimport { jsx } from \"theme-ui\"\nimport { Text, Box } from \"@theme-ui/components\"\n\nexport const formatDurationNicely = (seconds: number) => {\n  var date = new Date(0)\n  date.setSeconds(seconds) // specify value for SECONDS here\n  return date.toISOString().substr(11, 8)\n}\n\nexport const formatDate = function (timestamp: string) {\n  // Create a date object from the timestamp\n  var date = new Date(timestamp)\n\n  // Create a list of names for the months\n  var months = [\n    \"January\",\n    \"February\",\n    \"March\",\n    \"April\",\n    \"May\",\n    \"June\",\n    \"July\",\n    \"August\",\n    \"September\",\n    \"October\",\n    \"November\",\n    \"December\",\n  ]\n\n  // return a formatted date\n  return (\n    months[date.getMonth()] + \" \" + date.getDate() + \", \" + date.getFullYear()\n  )\n}\n\nconst EpisodeMeta = (props: {\n  frontmatter: {\n    season: number\n    episodeNumber: number\n    publicationDate: string\n    duration: number\n    categories: string[]\n    excerpt: string\n  }\n}) => {\n  const {\n    season,\n    episodeNumber,\n    publicationDate,\n    duration,\n    categories,\n    excerpt,\n  } = props.frontmatter\n  return (\n    <Box>\n      <Text>\n        Season: <b>{season}</b>\n        &nbsp;&nbsp;&nbsp;&nbsp;Episode: <b>{episodeNumber}</b>\n        &nbsp;&nbsp;&nbsp;&nbsp;Date: <b>{formatDate(publicationDate)}</b>\n        &nbsp;&nbsp;&nbsp;&nbsp; Duration:{\" \"}\n        <b>{formatDurationNicely(duration)}</b>\n        <br />\n        Tags: <b>{categories.join(\", \")}</b>\n      </Text>\n      <Text sx={{ marginTop: [1, 2], fontSize: [2, 3] }}>{excerpt}</Text>\n    </Box>\n  )\n}\n\nexport default EpisodeMeta\n","/** @jsx jsx */\n\nimport { useEffect, useRef } from \"react\"\nimport { jsx } from \"theme-ui\"\n\nconst SubscribeButton = (props: { isSmall?: boolean }) => {\n  const { isSmall } = props\n  const feedUrl = \"http://feed.booncon.com/bitsandpieces\"\n\n  if (typeof window === \"undefined\") {\n    return <div></div>\n  }\n\n  const dataKey = `podcastData-${feedUrl}`\n  window[dataKey] = {\n    title: \"bits & pieces\",\n    subtitle: \"How to get things done & love your work.\",\n    description:\n      \"A show about why work is not a job, friendships and riding unicorns. Hosted by Lukas Jakob Hafner and Tobias Johannes.\",\n    cover:\n      \"https://booncon-blahh.s3-eu-west-1.amazonaws.com/bp-cover-shaded.jpg\",\n    feeds: [\n      {\n        type: \"audio\",\n        format: \"mp3\",\n        url: feedUrl,\n        \"directory-url-itunes\":\n          \"https://podcasts.apple.com/us/podcast/bits-pieces/\",\n      },\n    ],\n  }\n\n  const script = document.createElement(\"script\")\n  script.async = true\n  script.src = \"https://cdn.podlove.org/subscribe-button/javascripts/app.js\"\n\n  script.setAttribute(\"class\", \"podlove-subscribe-button\")\n  script.setAttribute(\"data-language\", \"en\")\n  script.setAttribute(\"data-size\", \"big\")\n  script.setAttribute(\"data-json-data\", dataKey)\n  script.setAttribute(\"data-color\", \"#2A9BDA\")\n  script.setAttribute(\"data-format\", isSmall ? \"rectangle\" : \"cover\")\n  script.setAttribute(\"data-style\", \"filled\")\n\n  const span = useRef<HTMLSpanElement>(null)\n\n  useEffect(() => {\n    if (span.current) {\n      span.current.appendChild(script)\n    }\n  }, [])\n\n  return (\n    <span ref={span}>\n      <noscript>\n        <a href={feedUrl}>Subscribe to feed</a>\n      </noscript>\n    </span>\n  )\n}\n\nexport default SubscribeButton\n","/** @jsx jsx */\nimport { useStaticQuery, graphql, Link as GatsbyLink } from \"gatsby\"\n\nimport { Box, Heading, Text, Link, Grid } from \"@theme-ui/components\"\n\nimport Layout from \"../../components/layout\"\nimport SEO from \"../../components/seo\"\nimport SubscribeButton from \"../../components/SubscribeButton\"\nimport { jsx } from \"theme-ui\"\nimport EpisodeMeta from \"../../components/EpisodeMeta\"\n\nconst PodcastPage = () => {\n  const queryData = useStaticQuery(graphql`\n    query getPodcastData {\n      allMdx(sort: { fields: frontmatter___episodeNumber, order: DESC }) {\n        nodes {\n          id\n          slug\n          frontmatter {\n            title\n            episodeNumber\n            excerpt\n            publicationDate\n            season\n            duration\n            categories\n            subtitle\n            url\n          }\n        }\n      }\n    }\n  `)\n  return (\n    <Layout>\n      <SEO title=\"bits & pieces\" />\n      <Box\n        sx={{\n          variant: \"contentWrap\",\n          marginTop: [5, 6],\n        }}\n      >\n        <Grid\n          gap={3}\n          sx={{\n            padding: [3, 4],\n            gridTemplateColumns: [\"1fr\"],\n          }}\n        >\n          <Box px={[3, 4]}>\n            <Grid\n              gap={3}\n              sx={{\n                gridTemplateColumns: [\"1fr\", \"2fr 1fr\"],\n              }}\n            >\n              <Box>\n                <Heading as=\"h1\" sx={{ marginBottom: [2, 3] }}>\n                  bits & pieces\n                </Heading>\n                <Text sx={{ marginBottom: [3, 4], fontSize: [3, 4] }}>\n                  A show about how to get things done & love your work.\n                </Text>\n              </Box>\n              <Box sx={{ textAlign: \"right\", marginTop: [0, 2] }}>\n                <SubscribeButton isSmall />\n              </Box>\n            </Grid>\n            <iframe\n              src=\"https://embed.podcasts.apple.com/us/podcast/bits-pieces/id967039989?itsct=podcast_box&amp;itscg=30200\"\n              height=\"450px\"\n              width=\"100%\"\n              //@ts-ignore\n              frameBorder=\"0\"\n              sandbox=\"allow-forms allow-popups allow-same-origin allow-scripts allow-top-navigation-by-user-activation\"\n              allow=\"autoplay *; encrypted-media *;\"\n              //@ts-ignore\n              styles=\"width: 100%; overflow: hidden; border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px; background-color: transparent; background-position: initial initial; background-repeat: initial initial;\"\n            ></iframe>\n          </Box>\n          <Box px={[3, 4]}>\n            <Heading as=\"h2\" sx={{ marginTop: [2, 3], marginBottom: [3, 4] }}>\n              Episodes:\n            </Heading>\n            {queryData.allMdx.nodes.map((episode) => {\n              return (\n                <Box key={episode.id} sx={{ marginBottom: [3, 4] }}>\n                  <Link\n                    to={\"/podcast/\" + episode.slug}\n                    as={GatsbyLink}\n                    sx={{ marginBottom: [1, 2] }}\n                  >\n                    <Heading as=\"h3\">{episode.frontmatter.title}</Heading>\n                  </Link>\n                  <EpisodeMeta frontmatter={episode.frontmatter} />\n                </Box>\n              )\n            })}\n            <br />\n            <SubscribeButton />\n            <br />\n            <br />\n            <Link to=\"/\" sx={{ fontSize: [2, 3, 4] }} as={GatsbyLink}>\n              Go back to the homepage\n            </Link>\n          </Box>\n        </Grid>\n      </Box>\n    </Layout>\n  )\n}\n\nexport default PodcastPage\n"],"sourceRoot":""}